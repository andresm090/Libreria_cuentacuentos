<section data-ng-controller="ArticlesController" data-ng-init="findBooksUser(authentication.user)">
  <link rel="stylesheet" href="modules/articles/estilos/book.css" media="screen" title="no title" charset="utf-8">
  <div class="container">
    <div class="page-header">
      <h2>Mis Libros</h2>
    </div>

    <div class="alert alert-warning text-center" data-ng-if="articles.$resolved && !articles.length">
      No tienes libros guardados a&uacute;n. <a data-ui-sref="articles.busqueda">Busca tu favorito</a>!
    </div>

    <ul class="align">
      <li ng-repeat="article in articles">
        <figure class='book'>
          <!-- Front -->
          <ul class='hardcover_front'>
            <li>
              <div class="coverDesign blue">
                <image src='{{article.gbook.imageLinks.thumbnail}}' width="100%" height="100%"></image>
              </div>
            </li>
            <li></li>
          </ul>
          <!-- Pages -->
          <ul class='page'>
            <li></li>
            <li>
              <a data-ui-sref="articles.view({articleId: article._id})" class="btnDown">M&aacute;s Info</a>
            </li>
            <li></li>
            <li></li>
            <li></li>
          </ul>
          <!-- Back -->
          <ul class='hardcover_back'>
            <li></li>
            <li></li>
          </ul>
          <ul class='book_spine'>
            <li></li>
            <li></li>
          </ul>
          <figcaption>
            <h3>{{article.title}}</h3>
            Precio: <span>${{article.precio}}</span>
            <div ng-if="verificarUsuario(article.users, authentication.user)==false">
              <div ng-if="article.users.length == 1"><h3><small><em>Un usuario calific&oacute; este libro</em></small></h3></div>
              <div ng-if="article.users.length > 1"><h3><small><em>{{article.users.length}} usuarios calificaron este libro</em></small></h3></div>
            </div>
            <div ng-if="verificarUsuario(article.users, authentication.user)==true">
              <div ng-if="article.users.length == 1"><h3><small><em>Calificaste este libro</em></small></h3></div>
              <div ng-if="article.users.length == 2"><h3><small><em>Vos y otro usuario calificaron este libro</em></small></h3></div>
              <div ng-if="article.users.length > 2"><h3><small><em>Vos y otros {{article.users.length -1}} usuarios calificaron este libro</em></small></h3></div>
            </div>
          </figcaption>
        </figure>
      </li>
    </ul>
  </div>
</section>
